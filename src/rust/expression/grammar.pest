WHITESPACE = _{ " " | "\t" | "\n" | "\r" }

expression = { term ~ (WHITESPACE* ~ operator ~ WHITESPACE* ~ term)* }

term = _{ component | function_call | ident | string | integer | boolean }

component = { "<" ~ (!"/>" ~ ANY)* ~ "/>" }

function_call = { ident ~ WHITESPACE* ~ "(" ~ WHITESPACE* ~ argument_list? ~ WHITESPACE* ~ ")" }
argument_list = _{ term ~ (WHITESPACE* ~ "," ~ WHITESPACE* ~ term)* }

ident = @{ (ASCII_ALPHA | "_") ~ (ASCII_ALPHANUMERIC | "_")* }
operator = { "+" | "-" | "*" | "/" | "and" | "or" }

boolean = { "true" | "false" }
integer = @{ (ASCII_DIGIT | "_")+ }
string = @{ "\"" ~ (escape_sequence | !("\"" | "\\") ~ ANY)* ~ "\"" }

escape_sequence = { "\\" ~ ( "\"" | "\\" | "n" | "t" | "r" ) }
